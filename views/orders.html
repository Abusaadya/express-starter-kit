{% extends 'layout.html' %} {% block content %}

<h3 style="margin-bottom: 25px; border-right: 4px solid #69d5c4; padding-right: 15px;">Ø§Ù„Ø·Ù„Ø¨Ø§Øª ðŸ“‹</h3>

<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
  {% if stores.length > 1 %}
  <div
    style="background: #fff; padding: 10px 15px; border-radius: 8px; border: 1px solid #ddd; color: #333; display: flex; align-items: center; gap: 10px;">
    <label style="font-weight: bold; font-size: 14px;">ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù…ØªØ¬Ø±:</label>
    <select onchange="window.location.href='/orders?merchant_id=' + this.value"
      style="padding: 5px; border-radius: 4px; border: 1px solid #ccc; cursor: pointer;">
      {% for store in stores %}
      <option value="{{store.merchant}}" {% if store.merchant==selected_merchant %}selected{% endif %}>
        {{store.store_name}}
      </option>
      {% endfor %}
    </select>
  </div>
  {% endif %}
</div>

<div style="display: grid; gap: 20px;">
  {% for order in orders %}
  <div
    style="background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 20px;">
    <div
      style="display: flex; justify-content: space-between; margin-bottom: 15px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 15px;">
      <div>
        <span style="opacity: 0.6; font-size: 12px; display: block; margin-bottom: 5px;">Ø±Ù‚Ù… Ø§Ù„Ù…Ø±Ø¬Ø¹ÙŠ:</span>
        <span style="font-weight: bold; color: #69d5c4; font-size: 16px;">#{{order.reference_id}}</span>
      </div>
      <div style="text-align: left;">
        <span style="opacity: 0.6; font-size: 12px; display: block; margin-bottom: 5px;">Ø§Ù„Ø­Ø§Ù„Ø©:</span>
        <span
          style="background: rgba(105, 213, 196, 0.1); color: #69d5c4; padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: bold;">{{order.status.name}}</span>
      </div>
    </div>

    <div style="margin-bottom: 15px;">
      <span style="opacity: 0.8; font-size: 14px;">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨:</span>
      <span style="font-weight: bold; font-size: 18px; margin-right: 10px;">{{order.total.amount}}
        {{order.total.currency}}</span>
    </div>

    <div>
      <div style="opacity: 0.6; font-size: 12px; margin-bottom: 10px;">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ({% if order.items
        %}{{order.items.length}}{% else %}0{% endif %}):</div>
      <div style="display: grid; gap: 10px;">
        {% for item in order.items %}
        <div
          style="background: rgba(0,0,0,0.2); padding: 10px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center;">
          <span style="font-size: 13px;">{{item.name}}</span>
          <span
            style="background: rgba(255,255,255,0.1); padding: 2px 8px; border-radius: 4px; font-size: 11px;">Ø§Ù„ÙƒÙ…ÙŠØ©:
            {{item.quantity}}</span>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
  {% else %}
  <div style="text-align: center; padding: 40px; opacity: 0.5;">
    <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ù„Ø¹Ø±Ø¶Ù‡Ø§ Ø­Ø§Ù„ÙŠØ§Ù‹.</p>
  </div>
  {% endfor %}
</div>
{% endblock %}